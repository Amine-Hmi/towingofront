{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_native_1 = require(\"react-native-web/dist/index\");\n\nvar picker_1 = require(\"@react-native-picker/picker\");\n\nvar country_1 = __importDefault(require(\"./country\"));\n\nvar styles_1 = __importDefault(require(\"./styles\"));\n\nvar PickerItem = picker_1.Picker.Item;\n\nvar CountryPicker = function (_react_1$Component) {\n  _inherits(CountryPicker, _react_1$Component);\n\n  var _super = _createSuper(CountryPicker);\n\n  function CountryPicker(props) {\n    var _this;\n\n    _classCallCheck(this, CountryPicker);\n\n    _this = _super.call(this, props);\n\n    _this.onPressCancel = function () {\n      if (_this.props.onPressCancel) {\n        _this.props.onPressCancel();\n      }\n\n      _this.setState({\n        modalVisible: false\n      });\n    };\n\n    _this.onPressSubmit = function () {\n      if (_this.props.onPressConfirm) {\n        _this.props.onPressConfirm();\n      }\n\n      if (_this.props.onSubmit) {\n        _this.props.onSubmit(_this.state.selectedCountry);\n      }\n\n      _this.setState({\n        modalVisible: false\n      });\n    };\n\n    _this.onValueChange = function (selectedCountry) {\n      _this.setState({\n        selectedCountry: selectedCountry\n      });\n    };\n\n    _this.state = {\n      buttonColor: _this.props.buttonColor || '#007AFF',\n      modalVisible: false,\n      selectedCountry: _this.props.selectedCountry || country_1.default.getAll()[0]\n    };\n    return _this;\n  }\n\n  _createClass(CountryPicker, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var selectedCountry = this.props.selectedCountry;\n\n      if (selectedCountry && selectedCountry !== this.state.selectedCountry) {\n        this.setState({\n          selectedCountry: this.props.selectedCountry\n        });\n      }\n    }\n  }, {\n    key: \"selectCountry\",\n    value: function selectCountry(selectedCountry) {\n      this.setState({\n        selectedCountry: selectedCountry\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.setState({\n        modalVisible: true\n      });\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(country, index) {\n      return react_1.default.createElement(PickerItem, {\n        key: country.iso2,\n        value: country.iso2,\n        label: country.name\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var buttonColor = this.state.buttonColor;\n      var itemStyle = this.props.itemStyle || {};\n      return react_1.default.createElement(react_native_1.Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: this.state.modalVisible,\n        onRequestClose: function onRequestClose() {\n          console.log('Country picker has been closed.');\n        }\n      }, react_1.default.createElement(react_native_1.View, {\n        style: styles_1.default.basicContainer\n      }, react_1.default.createElement(react_native_1.View, {\n        style: [styles_1.default.modalContainer, {\n          backgroundColor: this.props.pickerBackgroundColor || 'white'\n        }]\n      }, react_1.default.createElement(react_native_1.View, {\n        style: styles_1.default.buttonView\n      }, react_1.default.createElement(react_native_1.TouchableOpacity, {\n        onPress: this.onPressCancel\n      }, react_1.default.createElement(react_native_1.Text, {\n        style: [{\n          color: buttonColor\n        }, this.props.cancelTextStyle]\n      }, this.props.cancelText || 'Cancel')), react_1.default.createElement(react_native_1.TouchableOpacity, {\n        onPress: this.onPressSubmit\n      }, react_1.default.createElement(react_native_1.Text, {\n        style: [{\n          color: buttonColor\n        }, this.props.confirmTextStyle]\n      }, this.props.confirmText || 'Confirm'))), react_1.default.createElement(react_native_1.View, {\n        style: styles_1.default.mainBox\n      }, react_1.default.createElement(picker_1.Picker, {\n        ref: function ref(_ref) {\n          _this2.picker = _ref;\n        },\n        style: styles_1.default.bottomPicker,\n        selectedValue: this.state.selectedCountry,\n        onValueChange: function onValueChange(country) {\n          return _this2.onValueChange(country);\n        },\n        itemStyle: itemStyle,\n        mode: \"dialog\"\n      }, country_1.default.getAll().map(function (country, index) {\n        return _this2.renderItem(country, index);\n      }))))));\n    }\n  }]);\n\n  return CountryPicker;\n}(react_1.Component);\n\nexports.default = CountryPicker;","map":{"version":3,"sources":["../src/CountryPicker.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    Text, TouchableOpacity, View, Modal,\n} from 'react-native';\nimport { Picker } from '@react-native-picker/picker';\n\nimport Country from './country';\nimport styles from './styles';\nimport { ReactNativeCountryPickerProps, ReactNativeCountryPickerState } from './typings';\n\nconst PickerItem = Picker.Item;\n\nexport default class CountryPicker extends Component<ReactNativeCountryPickerProps, ReactNativeCountryPickerState> {\n    private picker: any;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            buttonColor: this.props.buttonColor || '#007AFF',\n            modalVisible: false,\n            selectedCountry: this.props.selectedCountry || Country.getAll()[0],\n        };\n    }\n\n    componentDidUpdate() {\n        const { selectedCountry } = this.props;\n\n        if (selectedCountry && selectedCountry !== this.state.selectedCountry) {\n            this.setState({ // eslint-disable-line react/no-did-update-set-state\n                selectedCountry: this.props.selectedCountry,\n            });\n        }\n    }\n\n    selectCountry(selectedCountry) {\n        this.setState({\n            selectedCountry,\n        });\n    }\n\n    onPressCancel = () => {\n        if (this.props.onPressCancel) {\n            this.props.onPressCancel();\n        }\n\n        this.setState({\n            modalVisible: false,\n        });\n    }\n\n    onPressSubmit = () => {\n        if (this.props.onPressConfirm) {\n            this.props.onPressConfirm();\n        }\n\n        if (this.props.onSubmit) {\n            this.props.onSubmit(this.state.selectedCountry);\n        }\n\n        this.setState({\n            modalVisible: false,\n        });\n    }\n\n    onValueChange = (selectedCountry) => {\n        this.setState({\n            selectedCountry,\n        });\n    }\n\n    show() {\n        this.setState({\n            modalVisible: true,\n        });\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    renderItem(country, index) {\n        return <PickerItem key={country.iso2} value={country.iso2} label={country.name} />;\n    }\n\n    render() {\n        const { buttonColor } = this.state;\n        const itemStyle = this.props.itemStyle || {};\n        return (\n            <Modal\n                animationType=\"slide\"\n                transparent\n                visible={this.state.modalVisible}\n                onRequestClose={() => {\n                    console.log('Country picker has been closed.');\n                }}\n            >\n                <View style={styles.basicContainer}>\n                    <View\n                        style={[\n                            styles.modalContainer,\n                            { backgroundColor: this.props.pickerBackgroundColor || 'white' },\n                        ]}\n                    >\n                        <View style={styles.buttonView}>\n                            <TouchableOpacity onPress={this.onPressCancel}>\n                                <Text style={[{ color: buttonColor }, this.props.cancelTextStyle]}>\n                                    {this.props.cancelText || 'Cancel'}\n                                </Text>\n                            </TouchableOpacity>\n\n                            <TouchableOpacity onPress={this.onPressSubmit}>\n                                <Text style={[{ color: buttonColor }, this.props.confirmTextStyle]}>\n                                    {this.props.confirmText || 'Confirm'}\n                                </Text>\n                            </TouchableOpacity>\n                        </View>\n\n                        <View style={styles.mainBox}>\n                            <Picker\n                                ref={(ref) => {\n                                    this.picker = ref;\n                                }}\n                                style={styles.bottomPicker}\n                                selectedValue={this.state.selectedCountry}\n                                onValueChange={(country) => this.onValueChange(country)}\n                                itemStyle={itemStyle}\n                                mode=\"dialog\"\n                            >\n                                {Country.getAll().map((country, index) => this.renderItem(country, index))}\n                            </Picker>\n                        </View>\n                    </View>\n                </View>\n            </Modal>\n        );\n    }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}